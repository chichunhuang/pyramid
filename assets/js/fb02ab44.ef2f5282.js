"use strict";(self.webpackChunkpython=self.webpackChunkpython||[]).push([[7772],{33351:(t,a,n)=>{n.r(a),n.d(a,{assets:()=>i,contentTitle:()=>o,default:()=>s,frontMatter:()=>r,metadata:()=>p,toc:()=>d});var e=n(87462),l=(n(67294),n(3905));const r={title:"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a",description:"Python File and Folder",keywords:["Python","File and Folder"]},o="Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a\u6280\u5de7",p={unversionedId:"Python\u5169\u4e09\u4e8b/Python_3_File_and_Dir",id:"Python\u5169\u4e09\u4e8b/Python_3_File_and_Dir",title:"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a",description:"Python File and Folder",source:"@site/docs/070_Python\u5169\u4e09\u4e8b/071_Python_3_File_and_Dir.md",sourceDirName:"070_Python\u5169\u4e09\u4e8b",slug:"/Python\u5169\u4e09\u4e8b/Python_3_File_and_Dir",permalink:"/python/docs/Python\u5169\u4e09\u4e8b/Python_3_File_and_Dir",draft:!1,tags:[],version:"current",sidebarPosition:71,frontMatter:{title:"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a",description:"Python File and Folder",keywords:["Python","File and Folder"]},sidebar:"totem_sidebar",previous:{title:"Python \u8207 OOP",permalink:"/python/docs/Python\u985e\u5225\u8207OOP/Python_4_OOP"},next:{title:"Python command line \u57fa\u672c\u8655\u7406",permalink:"/python/docs/Python\u5169\u4e09\u4e8b/Python_3_CLI"}},i={},d=[{value:"os.path",id:"ospath",level:2},{value:"os",id:"os",level:2},{value:"os.walk",id:"oswalk",level:2},{value:"glob",id:"glob",level:2}],k={toc:d},m="wrapper";function s(t){let{components:a,...n}=t;return(0,l.kt)(m,(0,e.Z)({},k,n,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"python-\u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a\u6280\u5de7"},"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a\u6280\u5de7"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u9019\u908a\u50c5\u4ecb\u7d39\u76f8\u95dc\u8a9e\u6cd5\u4ee5\u53ca\u4f7f\u7528\u65b9\u5f0f\uff0c\u719f\u6089 API \u524d\u5feb\u901f\u67e5\u627e\u7528\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"file_path_str = file_object.name()")),(0,l.kt)("h2",{id:"ospath"},"os.path"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"built-in ")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"os.path"),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u56de\u50b3 \u7d55\u5c0d\u8def\u5f91")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.abspath(file_path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"os.path")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("span",{style:{color:"#0044FF"}}," ",(0,l.kt)("strong",{parentName:"td"},"\u5206\u62c6 \u8def\u5f91\u8207\u6a94\u540d")," ")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.split(file_path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"os.path, tuple2(path, filename)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u56de\u50b3 \u8def\u5f91")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.dirname(file_path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"os.path")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u56de\u50b3 \u6a94\u540d/\u8cc7\u6599\u593e\u540d")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.basename(file_path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"os.path, \u8def\u5f91\u672b\u7aef\u4e3b\u9ad4\u540d\u7a31")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u56de\u50b3 \u5171\u540c\u8def\u5f91")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.comparefix(","[file_path_str, file_path_str2]",")"),(0,l.kt)("td",{parentName:"tr",align:null},"os.path, \u50b3\u5165\u7684\u662f strings list")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("span",{style:{color:"#0044FF"}}," ",(0,l.kt)("strong",{parentName:"td"},"\u56de\u50b3 \u6a94\u6848\u6216\u8cc7\u6599\u593e\u662f\u5426\u5b58\u5728")," ")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.exists(file_path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("span",{style:{color:"#0044FF"}}," ",(0,l.kt)("strong",{parentName:"td"},"\u6aa2\u67e5\u8def\u5f91\u6307\u5411\u76ee\u6a19\u662f\u5426\u70ba\u6a94\u6848"),"_ ")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.isfile(str_path)"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("span",{style:{color:"#0044FF"}}," ",(0,l.kt)("strong",{parentName:"td"},"\u6aa2\u67e5\u8def\u5f91\u6307\u5411\u76ee\u6a19\u662f\u5426\u70ba\u8cc7\u6599\u593e")," ")),(0,l.kt)("td",{parentName:"tr",align:null},"os.path.isdir(str_path)"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")))),(0,l.kt)("h2",{id:"os"},"os"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"built-in ")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"os"),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u56de\u50b3 \u7576\u524d\u6240\u5728\u8cc7\u6599\u593e")),(0,l.kt)("td",{parentName:"tr",align:null},"os.getcwd()"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u5207\u63db\u6240\u5728\u8cc7\u6599\u593e\u6307\u6a19")),(0,l.kt)("td",{parentName:"tr",align:null},"os.chdir(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7d55\u5c0d\u6216\u76f8\u5c0d\u4f4d\u7f6e\u8def\u5f91\u7686\u53ef\uff0c\u642d\u914d old = os.getcwd() \u56de\u5148\u524d\u4f4d\u7f6e")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u5217\u51fa\u6307\u5b9a\u8def\u5f91\u4e0b\u7684\u6a94\u6848\u8207\u8cc7\u6599\u593e")),(0,l.kt)("td",{parentName:"tr",align:null},"os.listdir(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u82e5\u672a\u63d0\u4f9b\u8def\u5f91\uff0c\u5247\u67e5\u7576\u524d\u6240\u5728\u8cc7\u6599\u593e\u5167\u7684\u72c0\u614b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u5207\u63db\u6240\u5728\u8cc7\u6599\u593e\u6307\u6a19")),(0,l.kt)("td",{parentName:"tr",align:null},"os.chdir(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7d55\u5c0d\u6216\u76f8\u5c0d\u4f4d\u7f6e\u8def\u5f91\u7686\u53ef\uff0c\u642d\u914d old = os.getcwd() \u56de\u5148\u524d\u4f4d\u7f6e")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u5efa\u7acb\u8cc7\u6599\u593e")),(0,l.kt)("td",{parentName:"tr",align:null},"os.mkdir(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5efa\u7acb\u8def\u5f91\u672b\u7aef\u6307\u5b9a\u8cc7\u6599\u593e\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u5efa\u7acb\u8cc7\u6599\u593e")),(0,l.kt)("td",{parentName:"tr",align:null},"os.mkdirs(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4f9d\u6307\u5b9a\u8def\u5f91\u5efa\u7acb\u6307\u5b9a\u8cc7\u6599\u593e\uff0c\u5305\u542b\u8def\u5f91\u4e2d\u9593\u4e0d\u5b58\u5728\u7684\u8cc7\u6599\u593e\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u79fb\u9664\u6a94\u6848")),(0,l.kt)("td",{parentName:"tr",align:null},"os.remove(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u79fb\u9664\u8cc7\u6599\u593e")),(0,l.kt)("td",{parentName:"tr",align:null},"os.removedirs(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u79fb\u9664\u8cc7\u6599\u593e\uff0c\u5305\u542b\u6307\u5b9a\u8def\u5f91\u4e2d\u7684\u7a7a\u8cc7\u6599\u593e\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u642c\u52d5\u6a94\u6848")),(0,l.kt)("td",{parentName:"tr",align:null},"os.moveto(fromPath_str, toPath_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")))),(0,l.kt)("h2",{id:"oswalk"},"os.walk"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"built-in ")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"os.walk"),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u905e\u8ff4\u5411\u4e0b\u5217\u51fa\u6307\u5b9a\u8def\u5f91\u4e0b\u7684\u6a94\u6848\u8207\u8cc7\u6599\u593e")),(0,l.kt)("td",{parentName:"tr",align:null},"os.walk(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u50b3\u7684\u662f list of tuple3(path, ","[","dirs","]",", ","[","files","]",") ",(0,l.kt)("br",null)," t.first: \u8cc7\u6599\u7684\u8d77\u59cb\u8def\u5f91 ",(0,l.kt)("br",null)," t.second: t_first\u4e0b\u7684\u6240\u6709\u8cc7\u6599\u593e\u540d(str,\u4e0d\u542b\u8def\u5f91) ",(0,l.kt)("br",null)," t.third: t_first\u4e0b\u7684\u6240\u6709\u6a94\u6848\u540d(str,\u4e0d\u542b\u8def\u5f91)")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"os.walk example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"for root, dirs, files in os.walk(r'D:\\tmp'):\n    print('Folder: ', root)\n    for folder in dirs:\n        print(\"Folder path: \", os.path.join(root, folder))\n\n    for file in files:\n        print(\"File path: \", os.path.join(root, file))\n")),(0,l.kt)("h2",{id:"glob"},"glob"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Python \u5167\u5efa\u7684 module\uff0c\u53ef\u4ee5\u4f7f\u7528 wildcard(\u901a\u914d\u7b26)\uff0c\u4ee5\u985e\u4f3c regex \u7684\u65b9\u5f0f\u67e5\u627e\u6a94\u6848\u3002"),(0,l.kt)("li",{parentName:"ul"},"glob \u905e\u8ff4 : Python 3.5+, \u4ee5 ** \u8868\u793a\u8cc7\u6599\u593e\u905e\u8ff4 "),(0,l.kt)("li",{parentName:"ul"},"\u6ce8\u610f: pattern \u8207 regex \u90e8\u54e1\u5168\u76f8\u540c",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"*"," : 0+"),(0,l.kt)("li",{parentName:"ul"},"? : 1+"),(0,l.kt)("li",{parentName:"ul"},"[","]"," : range")))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"glob"),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u67e5\u8a62\u7b26\u5408\u6307\u5b9a\u8def\u5f91\u7d50\u69cb\u7684\u8cc7\u6599\uff0c\u56de\u50b3list")),(0,l.kt)("td",{parentName:"tr",align:null},"glob.glob(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Lazily \u67e5\u8a62\u7b26\u5408\u6307\u5b9a\u8def\u5f91\u7d50\u69cb\u7684\u8cc7\u6599\uff0c\u56de\u50b3iterator")),(0,l.kt)("td",{parentName:"tr",align:null},"glob.iglob(path_str)"),(0,l.kt)("td",{parentName:"tr",align:null},"\xa0")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"glob \u8d70\u8a2a\u7bc4\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"import glob\n\nfound = glob.glob(r'D:\\tmp\\*\\*.txt')\nfor f in found:\n    print(f)\n\n# iterator, generator: lazy \u8d70\u8a2a\nfound = glob.iglob(r'D:\\tmp\\tomcat\\log\\*log')\nfor f in found:\n    print(f)\n    \n# \u905e\u8ff4\u5411\u4e0b\u8d70\u8a2a  \nfound = glob.glob(r'D:\\tmp\\**\\*.txt', recursive=True)\nprint(\"start \")\nfor f in found:\n    print(f)\n")))}s.isMDXComponent=!0}}]);